/* ======================================================
   VARIABLES
====================================================== */
:root{
  --bg:#05060b;
  --text:#f1f6fb;
  --accent-blue:#0A84FF;
  --accent-violet:#6f2cff;
  --card-max:340px;
  --card-gap:clamp(20px,6vw,48px);
}

/* ======================================================
   RESET / BASE
====================================================== */
*{box-sizing:border-box;margin:0;padding:0}
html,body,#wrap{height:100%}

body{
  font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  background:var(--bg);
  color:var(--text);
  overflow:hidden;
}

/* ======================================================
   GENERIC SECTION
====================================================== */
.section{
  width:100vw;
  height:100vh;
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  /* ======================================================
   ðŸŸ¢ BACKGROUNDS DES SECTIONS
====================================================== */
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
}

/* ======================================================
   INTRO
====================================================== */
.intro-overlay{
  position:relative;
  inset:0;
  width:100%;
  height:100%;
}

#stars{
  position:absolute;
  inset:0;
  pointer-events:none;
}

.intro-words{
  position:absolute;
  left:50%;
  top:46%;
  transform:translate(-50%,-50%);
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:6px;
  z-index:6;
}

.filante{
  font-weight:700;
  font-style:italic;
  letter-spacing:0.5px;
  font-size:48px;
  color:transparent;
  -webkit-background-clip:text;
  background-clip:text;
  background-image:linear-gradient(
    90deg,
    rgba(203, 203, 203, 0.95),
    rgba(255, 255, 255, 0.9)
  );
  text-shadow:
    0 0 10px rgba(255,255,255,0.92),
    0 0 26px rgba(10,132,255,0.12);
  opacity:0;
  transform:translateY(6px);
  transition:
    transform .6s cubic-bezier(.2,.9,.2,1),
    opacity .5s;
}

.filante.small{
  font-size:34px;
  transform:translateY(12px);
}

.filante.show{
  opacity:1;
  transform:translateY(0);
}

.filante.stay{
  transition:transform .9s ease;
  transform:translateY(2px) scale(1);
}

.filante.flee{
  transition:
    transform .5s cubic-bezier(.05,.9,.1,1),
    opacity .3s;
  transform:translateY(-420px) scale(.9);
  opacity:0.02;
}

/* ======================================================
   SCENE / CARDS
====================================================== */
.scene-inner{
  position:relative;
  width:100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:6vh 6vw;
}

.cards-container{
  display:flex;
  gap:var(--card-gap);
  align-items:flex-end;
  justify-content:space-around;
  width:100%;
  max-width:1200px;
  pointer-events:none;
}

.card-slot{
  width:calc(min(30vw, 360px));
  aspect-ratio:4/5;
  perspective:1400px;
  display:flex;
  align-items:center;
  justify-content:center;
  transform-origin:center bottom;
  opacity:0;
}

.card{
  width:100%;
  height:100%;
  border-radius:18px;
  overflow:hidden;
  cursor:pointer;
  pointer-events:auto;
  transform-style:preserve-3d;
  background: none;
  box-shadow: none;
}

.card-inner{
  width:100%;
  height:100%;
  position:relative;
  transform-style:preserve-3d;
  transition:transform .75s cubic-bezier(.2,.9,.25,1);
}

.card-face{
  position:absolute;
  inset:0;
  backface-visibility:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
}

.card-face img{
  width:100%;
  height:100%;
  object-fit:contain;
  display: block;
}

.card .back{
  transform:rotateY(180deg);
}

.card.flipped .card-inner{
  transform:rotateY(180deg);
}

.card.centered{
  transform:translateY(-8px) scale(1.06);
  z-index:60;
  box-shadow:0 40px 90px rgba(0,0,0,0.6);
}

.cards-container.focused
.card-slot:not(.active){
  filter:blur(6px) brightness(0.85);
  transform:scale(0.99);
  pointer-events:none;
}

/* ======================================================
   CARD BACK
====================================================== */
.card-back-text{
  position:absolute;
  inset:0;
  display:flex;
  align-items:flex-end;
  justify-content:center;
  padding-bottom: 18%;
  z-index:10;
}
.btn-see{
  border:0;
  padding:10px 16px;
  border-radius:999px;
  background:linear-gradient(
    90deg,
    var(--accent-violet),
    var(--accent-blue)
  );
  color:#fff;
  font-weight:700;
  cursor:pointer;
}

/* ======================================================
   CATALOG
====================================================== */
.catalog{
  background:#020204;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:28px;
}

.catalog-inner{
  max-width:1100px;
  width:100%;
  text-align:center;
}

.catalog-grid{
  margin-top:20px;
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(220px,1fr));
  gap:16px;
}

/* ======================================================
   BLACKHOLE (CORRIGÃ‰)
====================================================== */
#blackhole{
  position:fixed;
  left:50%;
  top:50%;
  width:120px;
  height:120px;
  border-radius:50%;
  background:#000;
  transform:translate(-50%,-50%) scale(0);
  opacity:0;
  pointer-events:none;
  transition:
    transform 3.6s cubic-bezier(.2,.9,.3,1),
    opacity .2s linear;
  z-index:9999;
}

/* visible ONLY when triggered */
#blackhole.active{
  transform:translate(-50%,-50%) scale(18);
  opacity:1;
}

/* ======================================================
   SCREEN FADE (LOADING TRANSITION)
====================================================== */
#screen-fade{
  position:fixed;
  inset:0;
  background:#000;
  opacity:0;
  pointer-events:none;
  transition:opacity 1.6s ease;
  z-index:9998;
}

#screen-fade.show{
  opacity:1;
}
/* ================= LOADING SCREEN ================= */
#loading-screen{
  position:fixed;
  inset:0;
  background:#05060b;
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  pointer-events:none;
  transition:opacity .6s ease;
  z-index:9999;
}

#loading-screen.active{
  opacity:1;
  pointer-events:auto;
}

/* ================= STAR FIELD ================= */
#starField{
  position:absolute;
  inset:0;
  overflow:hidden;
  pointer-events:none;
}

#starField .star{
  position:absolute;
  width:2px;
  height:2px;
  background:white;
  opacity:.6;
  border-radius:50%;
}

#starField .star.filante{
  width:3px;
  height:3px;
  animation:shoot 2.4s linear infinite;
}

@keyframes shoot{
  0%{ transform:translateX(0) translateY(0); opacity:0 }
  10%{ opacity:1 }
  100%{ transform:translateX(220px) translateY(-120px); opacity:0 }
}

/* ================= LOADING UI ================= */
.loading-ui{
  position:relative;
  z-index:5;
  width:420px;
  max-width:80vw;
  text-align:center;
  color:white;
}

#loadingPercent{
  font-size:42px;
  font-weight:800;
  letter-spacing:1px;
  margin-bottom:18px;
  transition:color .4s ease;
}

/* ================= LOADING BAR ================= */
.loading-bar-wrap{
  width:100%;
  height:10px;
  border-radius:999px;
  background:rgba(255,255,255,.12);
  overflow:hidden;
  margin-bottom:14px;
}

#loadingBar{
  width:0%;
  height:100%;
  background:linear-gradient(
    90deg,
    #6f2cff,
    #0A84FF
  );
  transition:width .6s cubic-bezier(.2,.9,.25,1);
}

#loadingText{
  font-size:14px;
  color:rgba(255,255,255,.75);
  margin-top:6px;
}

/* ================= UFO ================= */
.ufo{
  position:absolute;
  opacity:.85;
  animation:float 12s ease-in-out infinite;
  pointer-events:none;
}

.ufo.small{ width:28px }
.ufo.mid{ width:42px }
.ufo.big{ width:60px }

@keyframes float{
  0%{ transform:translateY(0) }
  50%{ transform:translateY(-18px) }
  100%{ transform:translateY(0) }
}

#loading-logo {
  width: 90px;
  height: 90px;
  margin-bottom: 22px;
  animation: float 4s ease-in-out infinite;
}

#loading-logo img {
  width: 100%;
  height: 100%;
}

@keyframes float {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-12px); }
}


/* ======================================================
   MISC
====================================================== */
.contact-link{
  position:absolute;
  right:28px;
  bottom:20px;
  font-size:14px;
  color:rgba(255,255,255,0.76);
  text-decoration:underline;
  z-index:6;
}

.btn-small{
  padding:8px 14px;
  border-radius:999px;
  border:0;
  background:#111;
  color:#fff;
  cursor:pointer;
}

/* ======================================================
   RESPONSIVE
====================================================== */
@media (max-width:900px){
  .filante{ font-size:28px; }
  .filante.small{ font-size:20px; }
  .cards-container{ gap:18px; }
  .card-slot{ width:46vw; max-width:300px; }
}
